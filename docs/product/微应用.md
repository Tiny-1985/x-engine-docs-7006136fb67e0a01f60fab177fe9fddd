# microApp

microApp 是基于多个官方模块的一个功能性打包产品，模块包含了 network, bridge, nav, tools, web。

可以基于 h5 开发类似微信的小程序，并支持热更新

## 环境搭建

注意： 当前仅支持 iOS 环境预览开发。但支持 iOS android 的发布。

1. 安装 xcode， 以供 ios 实时预览
2. 加入 github/zkty-team 组内，以获取相关模块的使用权限。
3. 安装项目克隆工具 coge
4. 安装命令行工具  x-cli
5. 克隆 module/app 工程 github.com/zkty-team/x-engine-module-template
6. npm install 
7. cd ios && pod install  （只需执行一次）
8. cd h5 && npm run dev 
9. 运行 xcode 工程



## 开发流程

### 模块

#### 使用

参看 [模块-使用](./docs/modules/模块-使用.md)

#### 升级
参看 [x-cli](./docs/product/x-cli.md)

## 热更新

我们提供了一个全自动的离线部署的模块，但需要服务端配合。参看[x-engine-module-offline](../modules/模块-offline.md)

我们也支持更灵活的在微应用内部手动请求更新，请组合使用 [x-engine-module-tools](../modules/模块-tools.md) 与 [x-engine-module-network](../modules/模块-network.md) 模块即可。



## xengine_config.json

``` json
{
  "appId": "com.zkty.xiaoqu",    // 建议直接设置为应用的 Bundle Identifier
  "appSecret": "8b387ca3ebdd412e9c97ef81ed352ee7",  //随机 md5 值.
  "offlineServerUrl": "https://3rd-public-file.oss-cn-beijing.aliyuncs.com"  //服务器地址
}
```

appId 是应用唯一id，用户指定，服务器判别是否有效。

appSecret 应该由服务器生成。

offlineServerUrl 为离线包更新地址。

> 在没有服务器逻辑，只有类似 ftp 的情况下， appId 与 appSecret 手动指定， 以备日后不时之需。

 




